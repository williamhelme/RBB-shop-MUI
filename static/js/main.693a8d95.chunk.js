(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{169:function(e,t,n){e.exports=n(378)},174:function(e,t,n){},178:function(e,t,n){},378:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(25),o=n.n(r),l=(n(174),n(20)),s=n(21),c=n(23),u=n(22),m=n(24),d=n(59),h=n.n(d),p=n(107),g=(n(178),n(33)),f=n(11),v=n(381),b=n(382),E=n(161),y=n(112),w=n.n(y),j=n(74),k=n.n(j),O=n(34),C=n.n(O),I=n(27),x=n.n(I),S=n(73),L=n.n(S),R=n(19),A=n.n(R),W=n(36),N=n.n(W),B=n(113),P=n.n(B),z=n(168),T=n(106),U=n.n(T),M=n(109),D=n.n(M),F=n(163),K=n.n(F),G=n(110),H=n.n(G),V=n(111),Z=n.n(V),_=n(72),J=n.n(_),Y=n(71),q=n.n(Y),Q=n(108),$=n.n(Q),X=function(){return i.a.createElement($.a,null,"add_circle")},ee=function(){return i.a.createElement($.a,null,"close_circle")},te=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).onChangeEntry=function(e){n.setState({term:e.target.value})},n.onChangeItem=function(e,t){var a=n.state.items;a[t]=e.target.value,n.setState({items:a})},n.deleteEmptyItem=function(e,t){""===e.target.value&&n.deleteItem(t)},n.state={term:"",items:Object(z.a)(e.items)},n.addItem=n.addItem.bind(Object(f.a)(Object(f.a)(n))),n.deleteItem=n.deleteItem.bind(Object(f.a)(Object(f.a)(n))),n.onKeyPress=n.onKeyPress.bind(Object(f.a)(Object(f.a)(n))),n.onChangeEntry=n.onChangeEntry.bind(Object(f.a)(Object(f.a)(n))),n.onChangeItem=n.onChangeItem.bind(Object(f.a)(Object(f.a)(n))),n.deleteEmptyItem=n.deleteEmptyItem.bind(Object(f.a)(Object(f.a)(n))),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"addItem",value:function(){""!==this.state.term&&this.setState({term:"",items:[].concat(this.state.items).concat(this.state.term)})}},{key:"deleteItem",value:function(e){var t=this.state.items;t.splice(e,1),this.setState({items:t})}},{key:"getItems",value:function(){return this.state.items}},{key:"onKeyPress",value:function(e){"Enter"===e.key&&(e.preventDefault(),this.addItem())}},{key:"render",value:function(){var e=this,t=this.props.classes;return i.a.createElement("div",{className:t.root},i.a.createElement(U.a,{style:{paddingTop:0}},i.a.createElement(q.a,{className:"floating insert-section",elevation:2},i.a.createElement(D.a,null,i.a.createElement(N.a,{fullWidth:!0},i.a.createElement(J.a,{className:"".concat(t.inputBaseStyle," insert-field"),placeholder:"...",multiline:!0,value:this.state.term,margin:"dense",onKeyPress:this.onKeyPress,onChange:this.onChangeEntry}),i.a.createElement(H.a,null,i.a.createElement(Z.a,{"aria-label":"Add",className:"add-button",onClick:this.addItem},i.a.createElement(X,null)))))),this.state.items.map(function(n,a){return i.a.createElement(q.a,{className:"".concat(t.paper," list-item"),elevation:2,key:a},i.a.createElement(D.a,null,i.a.createElement(K.a,null,i.a.createElement(A.a,{style:{fontWeigt:800,fontSize:16}},"".concat(a+1,"."))),i.a.createElement(N.a,{fullWidth:!0},i.a.createElement(J.a,{className:t.inputBaseStyle,value:n,multiline:!0,onChange:function(t){return e.onChangeItem(t,a)},onBlur:function(t){return e.deleteEmptyItem(t,a)}}),i.a.createElement(H.a,null,i.a.createElement(Z.a,{className:"delete-item","aria-label":"Delete",onClick:function(){return e.deleteItem(a)}},i.a.createElement(ee,null))))))})))}}]),t}(i.a.Component);te.defaultProps={items:[]};var ne=Object(g.withStyles)(function(e){return{root:{flexGrow:10,maxWidth:400},inputBaseStyle:{marginRight:"40px"},paper:{marginTop:"2px"}}})(te),ae=n(51),ie=n.n(ae),re=(n(311),n(312),n(313),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function oe(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}!function(){if("serviceWorker"in navigator){if(new URL("/RBB-shop-MUI",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/RBB-shop-MUI","/service-worker.js");re?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):oe(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):oe(e)})}}();var le=ie.a.initializeApp({apiKey:"AIzaSyA8urnEKGzPrIfmWhpdTOwC12jv4bgzLLs",authDomain:"bexs-bakes.firebaseapp.com",databaseURL:"https://bexs-bakes.firebaseio.com",projectId:"bexs-bakes",storageBucket:"bexs-bakes.appspot.com",messagingSenderId:"317468318530"}),se=(ie.a.app(),ie.a.firestore()),ce=ie.a.auth(),ue=(ce.currentUser,new ie.a.auth.GoogleAuthProvider);se.settings({timestampsInSnapshots:!0});var me=se.collection("recipes"),de=le,he=function(e){var t=e.heading,n=e.control;return i.a.createElement(w.a,{style:{padding:"1em"}},i.a.createElement(x.a,{container:!0,spacing:24},i.a.createElement(x.a,{item:!0,xs:4},i.a.createElement(A.a,{variant:"h4",align:"right"},t)),i.a.createElement(x.a,{item:!0,xs:8},i.a.createElement(N.a,{fullWidth:!0},n))))},pe=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){return function(t){n.setState(Object(E.a)({},e,t.target.value))}},n.state={isAdmin:!1,isLoading:!0},n.handleSubmit=n.handleSubmit.bind(Object(f.a)(Object(f.a)(n))),n.recipeRef=null,n.instructionsRef=null,n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.authListener=ce.onAuthStateChanged(function(t){t?de.auth().currentUser.getIdTokenResult().then(function(t){e.setState({isAdmin:t&&t.claims&&t.claims.admin,isLoading:!1})}):e.setState({isAdmin:!1,isLoading:!1})})}},{key:"componentWillUnmount",value:function(){this.authListener&&this.authListener(),this.authListener=null}},{key:"handleSubmit",value:function(){if(this.state.isAdmin){var e=this.recipeRef.getItems(),t=this.instructionsRef.getItems();me.add({name:this.state.name,description:this.state.description,recipe:e,instructions:t})}}},{key:"render",value:function(){var e=this,t=this.props,n=this.state,a=t.classes,r=n.name,o=void 0===r?"":r,l=n.description,s=void 0===l?"":l,c=n.isAdmin,u=void 0!==c&&c,m=n.isLoading;return void 0===m||m?i.a.createElement(x.a,{item:!0,xs:12,sm:12,md:12,lg:12},i.a.createElement(L.a,{size:50})):i.a.createElement("div",{style:{padding:"2em"}},i.a.createElement(k.a,{raised:!0,style:{borderTop:"4px solid var(--secondary-text-color)"}},i.a.createElement(w.a,{style:{padding:"1em"}},!u&&i.a.createElement(A.a,{variant:"h3",color:"error"},"This is an admin page and for display purposes only. You will be unable to add items."),i.a.createElement(x.a,{container:!0,spacing:24},i.a.createElement(x.a,{item:!0,xs:4},i.a.createElement(A.a,{variant:"h4",align:"right"},"General")),i.a.createElement(x.a,{item:!0,xs:8,style:{paddingTop:0}},i.a.createElement(N.a,{fullWidth:!0},i.a.createElement(P.a,{label:"Name",placeholder:"Name",id:"insert-form-name",onChange:this.handleChange("name"),value:o})),i.a.createElement(N.a,{fullWidth:!0},i.a.createElement(P.a,{label:"Description",placeholder:"Description",id:"insert-form-description",onChange:this.handleChange("description"),value:s}))))),i.a.createElement(he,{control:i.a.createElement(ne,{innerRef:function(t){return e.recipeRef=t}}),heading:"Recipe"}),i.a.createElement(he,{control:i.a.createElement(ne,{innerRef:function(t){return e.instructionsRef=t}}),heading:"Cooking Instructions"}),i.a.createElement(C.a,{size:"medium",variant:"contained",color:"primary",className:a.button,onClick:this.handleSubmit,disabled:!u},"Submit")))}}]),t}(a.Component),ge=Object(g.withStyles)(function(e){return{button:{margin:e.spacing.unit,float:"right"},input:{display:"none"}}})(pe),fe=n(165),ve=n.n(fe),be=n(75),Ee=n.n(be),ye=n(164),we=n.n(ye),je=n(114),ke=n.n(je),Oe=function(e){var t=e.children,n=e.style;return i.a.createElement("span",{style:Object.assign({},n,{color:"var(--secondary-text-color)"})},t)},Ce=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={showIngredients:!1,showRecipe:!1},n.showIngredients=n.showIngredients.bind(Object(f.a)(Object(f.a)(n))),n.showRecipe=n.showRecipe.bind(Object(f.a)(Object(f.a)(n))),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"showIngredients",value:function(){this.setState({showIngredients:!this.state.showIngredients,showRecipe:!1})}},{key:"showRecipe",value:function(){this.setState({showIngredients:!1,showRecipe:!this.state.showRecipe})}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.description,a=e.image,r=this.state,o=r.showRecipe,l=r.showIngredients;return i.a.createElement(k.a,null,i.a.createElement(we.a,{image:a,component:"img",title:"Cake",style:{textAlign:"center",width:"inherit",margin:"0px auto"}}),i.a.createElement(Ee.a,null,i.a.createElement(A.a,{gutterBottom:!0,variant:"headline",component:"h2"},t),i.a.createElement(A.a,{component:"p"},n)),i.a.createElement(ve.a,null,i.a.createElement(C.a,{size:"small",onClick:this.showIngredients},i.a.createElement(A.a,null,i.a.createElement(Oe,null,"".concat(this.state.showIngredients?"Hide":"View"," ingredients")))),i.a.createElement(C.a,{size:"small",onClick:this.showRecipe},i.a.createElement(A.a,null,i.a.createElement(Oe,null,"".concat(this.state.showRecipe?"Hide":"View"," recipe"))))),i.a.createElement(ke.a,{in:!o&&l,timeout:"auto",unmountOnExit:!0},i.a.createElement(Ee.a,null,i.a.createElement(A.a,{paragraph:!0,variant:"body2"},"Ingredients:"))),i.a.createElement(ke.a,{in:o&&!l,timeout:"auto",unmountOnExit:!0},i.a.createElement(Ee.a,null,i.a.createElement(A.a,{paragraph:!0,variant:"body2"},"Method:"),i.a.createElement(A.a,{paragraph:!0},"Heat 1/2 cup of the broth in a pot until simmering, add saffron and set aside for 10 minutes."),i.a.createElement(A.a,{paragraph:!0},"Heat oil in a (14- to 16-inch) paella pan or a large, deep skillet over medium-high heat. Add chicken, shrimp and chorizo, and cook, stirring occasionally until lightly browned, 6 to 8 minutes. Transfer shrimp to a large plate and set aside, leaving chicken and chorizo in the pan. Add piment\xf3n, bay leaves, garlic, tomatoes, onion, salt and pepper, and cook, stirring often until thickened and fragrant, about 10 minutes. Add saffron broth and remaining 4 1/2 cups chicken broth; bring to a boil."),i.a.createElement(A.a,{paragraph:!0},"Add rice and stir very gently to distribute. Top with artichokes and peppers, and cook without stirring, until most of the liquid is absorbed, 15 to 18 minutes. Reduce heat to medium-low, add reserved shrimp and mussels, tucking them down into the rice, and cook again without stirring, until mussels have opened and rice is just tender, 5 to 7 minutes more. (Discard any mussels that don\u2019t open.)"),i.a.createElement(A.a,null,"Set aside off of the heat to let rest for 10 minutes, and then serve."))))}}]),t}(a.Component);Ce.defaultProps={title:"Cake",description:"Cake description...",image:"./tools.jpg"};var Ie=Ce,xe=function(e){var t=e.isLoading,n=void 0===t||t,a=e.items,r=void 0===a?[]:a;return i.a.createElement(x.a,{container:!0,spacing:24,className:"containerGrid"},n&&i.a.createElement(x.a,{item:!0,xs:12,sm:12,md:12,lg:12},i.a.createElement(L.a,{size:50})),!n&&r.map(function(e,t){e.title;var n=e.description,a=e.image,r=e.name;return i.a.createElement(x.a,{item:!0,xs:12,sm:12,md:6,lg:3,key:t},i.a.createElement(Ie,{title:r,description:n,image:a}))}))},Se=function(){return i.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"24",height:"24",viewBox:"0 0 48 48",style:{fill:"#000000"}},i.a.createElement("g",{id:"surface1"},i.a.createElement("path",{style:{fill:"#FFC107"},d:"M 43.609375 20.082031 L 42 20.082031 L 42 20 L 24 20 L 24 28 L 35.304688 28 C 33.652344 32.65625 29.222656 36 24 36 C 17.371094 36 12 30.628906 12 24 C 12 17.371094 17.371094 12 24 12 C 27.058594 12 29.84375 13.152344 31.960938 15.039063 L 37.617188 9.382813 C 34.046875 6.054688 29.269531 4 24 4 C 12.953125 4 4 12.953125 4 24 C 4 35.046875 12.953125 44 24 44 C 35.046875 44 44 35.046875 44 24 C 44 22.660156 43.863281 21.351563 43.609375 20.082031 Z "}),i.a.createElement("path",{style:{fill:"#FF3D00"},d:"M 6.304688 14.691406 L 12.878906 19.511719 C 14.65625 15.109375 18.960938 12 24 12 C 27.058594 12 29.84375 13.152344 31.960938 15.039063 L 37.617188 9.382813 C 34.046875 6.054688 29.269531 4 24 4 C 16.316406 4 9.65625 8.335938 6.304688 14.691406 Z "}),i.a.createElement("path",{style:{fill:"#4CAF50"},d:"M 24 44 C 29.164063 44 33.859375 42.023438 37.410156 38.808594 L 31.21875 33.570313 C 29.210938 35.089844 26.714844 36 24 36 C 18.796875 36 14.382813 32.683594 12.71875 28.054688 L 6.195313 33.078125 C 9.503906 39.554688 16.226563 44 24 44 Z "}),i.a.createElement("path",{style:{fill:"#1976D2"},d:"M 43.609375 20.082031 L 42 20.082031 L 42 20 L 24 20 L 24 28 L 35.304688 28 C 34.511719 30.238281 33.070313 32.164063 31.214844 33.570313 C 31.21875 33.570313 31.21875 33.570313 31.21875 33.570313 L 37.410156 38.808594 C 36.972656 39.203125 44 34 44 24 C 44 22.660156 43.863281 21.351563 43.609375 20.082031 Z "})))},Le=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={},n.handleSignIn=n.handleSignIn.bind(Object(f.a)(Object(f.a)(n))),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.authListener=ce.onAuthStateChanged(function(t){if(t){var n=de.auth().currentUser;n.getIdTokenResult().then(function(e){n.isAdmin=e&&e.claims&&e.claims.admin}).catch(function(e){console.log(e),n.isAdmin=!1}).finally(function(){e.setState({user:n,handlingLogin:!1,loggedIn:!0})})}})}},{key:"componentWillUnmount",value:function(){this.authListener&&this.authListener(),this.authListener=null}},{key:"signIn",value:function(){ce.signInWithPopup(ue).then(function(e){return e.user.getIdToken()}).catch(function(e){console.log(e)})}},{key:"signOut",value:function(){var e=this;ce.signOut().then(function(){e.setState({loggedOut:!0,handlingLogin:!1,loggedIn:!1})},function(e){console.error("Sign Out Error",e)})}},{key:"handleSignIn",value:function(e){e.preventDefault(),this.state.loggedIn?this.signOut():this.signIn()}},{key:"loggedIn",value:function(){var e=this.state.user,t=e.displayName,n=e.photoURL,a=e.email;return i.a.createElement("div",null,i.a.createElement("div",{style:{display:"inline-block",verticalAlign:"top"}},i.a.createElement("span",null,"Logged in as ",i.a.createElement("span",null,t)," "),i.a.createElement("div",{style:{fontSize:"smaller",opacity:"0.9",paddingRight:7}},"(".concat(a,")"))),i.a.createElement("div",{style:{display:"inline-block"}},i.a.createElement("img",{src:n,alt:"user profile",height:50,style:{borderRadius:"50%",verticalAlign:"center"}})))}},{key:"render",value:function(){return i.a.createElement("div",{style:{position:"absolute",width:"100%"}},this.state.loggedOut&&i.a.createElement("div",null,"You are now logged out"),this.state.handlingLogin&&i.a.createElement("div",null,"Logging in..."),this.state.loggedIn&&this.loggedIn(),i.a.createElement(C.a,{style:{backgroundColor:"white"},variant:"outlined",onClick:this.handleSignIn},i.a.createElement(Se,null),i.a.createElement("div",{style:{paddingLeft:10}},this.state.loggedIn?"Logout":"Login")))}}]),t}(i.a.Component),Re=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={items:e.items||[]},n.handleProfileChange=n.handleProfileChange.bind(Object(f.a)(Object(f.a)(n))),n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"handleProfileChange",value:function(e){this.setState({profile:e})}},{key:"componentWillReceiveProps",value:function(e){e.items&&this.setState({items:e.items,loading:!1})}},{key:"render",value:function(){var e=this,t=this.state,n=t.items,a=void 0===n?[]:n,r=t.loading,o=void 0===r||r;return i.a.createElement("main",null,i.a.createElement("h1",null,"Welcome to Bex's Bakes"),i.a.createElement(v.a,null,i.a.createElement("div",null,i.a.createElement(b.a,{path:"/insert",exact:!0,component:function(){return i.a.createElement("div",{style:{textAlign:"right",top:"-85px",position:"relative",marginRight:"10px"}},i.a.createElement(Le,{onProfileChange:e.handleProfileChange}))}}),i.a.createElement(b.a,{path:"/",exact:!0,component:function(){return i.a.createElement(xe,{isLoading:o,items:a})}}),i.a.createElement(b.a,{path:"/insert",exact:!0,component:ge}))))}}]),t}(a.Component),Ae=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.skew,t=void 0===e?20:e;return i.a.createElement("header",null,i.a.createElement("object",{type:"image/svg+xml",data:"./brand_logo.svg",style:{position:"absolute",height:"10em",left:"2%",top:"2%",zIndex:1}},i.a.createElement("img",{src:"./cake.jpg",alt:"No SVG support"})),i.a.createElement("section",{style:{height:"40vh",width:"100vw",position:"relative"}},i.a.createElement("article",{style:{height:"inherit",background:"url(./cake.jpg) no-repeat",backgroundPosition:"center",backgroundSize:"cover",filter:"blur(1px)"}}),i.a.createElement("svg",{style:{position:"absolute",bottom:-3,left:-100,width:"calc(100vw + 101px)",height:"".concat(t,"%"),color:"var(--main-bg-color)",zIndex:1},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 100 100",preserveAspectRatio:"none"},i.a.createElement("polygon",{className:"svg-header",points:"0,100 100,0 100,100"}))))}}]),t}(a.Component),We=Object(g.createMuiTheme)({typography:{fontSize:12,fontFamily:['"Indie Flower"',"-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),useNextVariants:!0}}),Ne=function(){var e=Object(p.a)(h.a.mark(function e(){var t,n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.get();case 2:return t=e.sent,n=[],t.forEach(function(e){n.push(e.data())}),e.abrupt("return",n);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),Be=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={items:[],loading:!0},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=Object(p.a)(h.a.mark(function e(){var t,n=this;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.removeAuthListener=ce.onAuthStateChanged(function(e){n.setState({authenticated:!!e,user:e,loading:!1})}),e.next=3,Ne();case 3:t=e.sent,this.setState({items:t});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.removeAuthListener=null}},{key:"render",value:function(){var e=this.state.items,t=void 0===e?[]:e;return i.a.createElement("div",{className:"App"},i.a.createElement(g.MuiThemeProvider,{theme:We},i.a.createElement(Ae,null),i.a.createElement(Re,{items:t})))}}]),t}(a.Component),Pe=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement("section",null,i.a.createElement("p",null,"Contact"),i.a.createElement("article",null,"Tel: 01234 567890"))}}]),t}(a.Component);o.a.render(i.a.createElement(Be,null),document.getElementById("root")),o.a.render(i.a.createElement(Pe,null),document.getElementById("page-footer"))}},[[169,2,1]]]);
//# sourceMappingURL=main.693a8d95.chunk.js.map